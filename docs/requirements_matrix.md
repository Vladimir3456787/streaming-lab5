# Таблица требований

| Требование | Решение | Почему так |
|------------|---------|-------------|
| P95 < 75 мс | Flink + оптимизация | Flink быстрее Spark |
| Обнаружение мошенничества | ML модель | Анализирует паттерны |
| Обработка опоздавших данных | Watermark | Стандартный подход |

# Сравнение затрат: Flink vs Spark Streaming

Инфраструктура (в месяц):

3 сервера: 8 CPU, 16GB RAM каждый

Стоимость: ~$300/месяц (cloud) или $5000 (покупка)

Разработка:

1 разработчик: 2 месяца

Стоимость: ~$10,000

Итого начальные затраты: ~$15,000

## Сравнение технологий для Fraud Detection

| Параметр | Apache Flink (True Streaming) | Spark Streaming (Micro-batch) |
|----------|--------------------------------|-------------------------------|
| **Задержка обработки** | 10-50 мс | 100-500 мс |
| **Потребление CPU** | Среднее | Высокое |
| **Потребление памяти** | Низкое (эффективное state management) | Высокое (хранение RDD в памяти) |
| **Стоимость инфраструктуры** | Средняя | Высокая (требует больше ресурсов) |
| **Стоимость разработки** | Высокая (сложнее найти специалистов) | Низкая (больше документации) |
| **Обучение команды** | 2-3 месяца | 1-2 месяца |
| **Лицензии** | Бесплатно (Apache 2.0) | Бесплатно (Apache 2.0) |

## Детальный расчет затрат

Инфраструктура (в месяц):

5 серверов: 8 CPU, 16GB RAM каждый (нужно больше нод)

Стоимость: ~$500/месяц (cloud) или $8000 (покупка)

Разработка:

1 разработчик: 1.5 месяца

Стоимость: ~$7,500

Итого начальные затраты: ~$15,500

### Flink (наш выбор)